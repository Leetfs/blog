---
title: Linux DNSの変更
author: Lee
---

## DNS管理プログラムの確認

`cat /etc/resolv.conf` を実行し、ファイルの出力に `# Generated by resolvconf` または `# Generated by systemd-resolved` のようなコメントがあるか確認します。

## resolv.confを直接編集する

DNSが引き継がれていない場合、または引き継がれていて一時的に変更したい場合に適用できます。

`etc/resolv.conf` を開き、`nameserver` パラメータを編集します。例：

```text
nameserver 1.1.1.1
nameserver 1.0.0.1
nameserver 2606:4700:4700::1111
nameserver 2606:4700:4700::1001
```

## systemd-resolvedによる変更

`etc/systemd/resolved.conf` を開き、`DNS=` パラメータを編集します。例：

```text
DNS= 1.1.1.1 1.0.0.1 2606:4700:4700::1111 2606:4700:4700::1001
```

`sudo systemctl restart systemd-resolved.service` を実行してDNSサービスを再起動します。

## resolvconfによる変更

resolvconf設定ファイルを開きます。

```bash
nano /etc/resolvconf/resolv.conf.d/head
```

設定を編集します。

```text
nameserver 8.8.8.8
nameserver 8.8.4.4
```

resolv.confの再生成

```bash
sudo resolvconf -u
```

以下のコマンドを実行してDNS設定を確認します。

```bash
cat /etc/resolv.conf
```
