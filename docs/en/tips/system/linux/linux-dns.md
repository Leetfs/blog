---
title: Linux 修改 DNS
author: Lee
---

## 确认 DNS 管理程序

执行 `cat /etc/resolv.conf`, 观察文件输出中是否有 `# Generated by resolvconf` 或 `# Generated by systemd-resolved` 样式的注释。

## 直接修改 resolv.conf

适用于 DNS 未被接管 or 已被接管想要临时修改。

打开 `etc/resolv.conf`, 修改 `nameserver` 参数，例：

```text
nameserver 1.1.1.1
nameserver 1.0.0.1
nameserver 2606:4700:4700::1111
nameserver 2606:4700:4700::1001
```

## 通过 systemd-resolved 修改

打开 `etc/systemd/resolved.conf`,修改 `DNS=` 参数，例：

```text
DNS= 1.1.1.1 1.0.0.1 2606:4700:4700::1111 2606:4700:4700::1001
```

执行 `sudo systemctl restart systemd-resolved.service` 重启 DNS 服务。

## 通过 resolvconf 修改

打开 resolvconf 配置文件。

```bash
nano /etc/resolvconf/resolv.conf.d/head
```

编辑配置。

```text
nameserver 8.8.8.8
nameserver 8.8.4.4
```

重新生成 resolv.conf

```bash
sudo resolvconf -u
```

执行以下命令验证 DNS 配置

```bash
cat /etc/resolv.conf
```
